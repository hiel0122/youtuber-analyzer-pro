# YouTuber Analyzer Pro - ê¸°ëŠ¥ ëª…ì„¸ì„œ

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
3. [ì£¼ìš” ê¸°ëŠ¥ ëª©ë¡](#-ì£¼ìš”-ê¸°ëŠ¥-ëª©ë¡)
4. [ìƒì„¸ ê¸°ëŠ¥ ì„¤ëª…](#-ìƒì„¸-ê¸°ëŠ¥-ì„¤ëª…)
5. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
6. [API ì—”ë“œí¬ì¸íŠ¸](#-api-ì—”ë“œí¬ì¸íŠ¸)
7. [ì‚¬ìš©ì ì„¤ì •](#-ì‚¬ìš©ì-ì„¤ì •)
8. [ì‹œê°í™” ê¸°ëŠ¥](#-ì‹œê°í™”-ê¸°ëŠ¥)

---

## ğŸ“– í”„ë¡œì íŠ¸ ê°œìš”

**YouTuber Analyzer Pro**ëŠ” YouTube ì±„ë„ì˜ ì˜ìƒ ë°ì´í„°ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ì‹œê°í™”í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. YouTube Data API v3ë¥¼ í™œìš©í•˜ì—¬ ì±„ë„ ë° ì˜ìƒ í†µê³„ë¥¼ ìˆ˜ì§‘í•˜ê³ , ì‚¬ìš©ì ì¹œí™”ì ì¸ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ë‹¤ì–‘í•œ ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì£¼ìš” ëª©ì 
- YouTube ì±„ë„ì˜ ì„±ê³¼ ë¶„ì„ ë° ì¶”ì 
- ì˜ìƒ ì—…ë¡œë“œ íŒ¨í„´ ë° ë¹ˆë„ ë¶„ì„
- ì¡°íšŒìˆ˜, ì¢‹ì•„ìš”, ëŒ“ê¸€ ë“± ì°¸ì—¬ë„ ì§€í‘œ ë¶„ì„
- êµ¬ë…ì ì¦ê° ì¶”ì´ ëª¨ë‹ˆí„°ë§
- ì˜ìƒ ì£¼ì œ ë° ì¹´í…Œê³ ë¦¬ ë¶„í¬ ì‹œê°í™”

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
| êµ¬ë¶„ | ê¸°ìˆ  | ë²„ì „ |
|------|------|------|
| í”„ë ˆì„ì›Œí¬ | React | 18.3.1 |
| ì–¸ì–´ | TypeScript | 5.8.3 |
| ë¹Œë“œ ë„êµ¬ | Vite | 5.4.19 |
| UI ë¼ì´ë¸ŒëŸ¬ë¦¬ | shadcn-ui (Radix UI) | - |
| ìŠ¤íƒ€ì¼ë§ | Tailwind CSS | 3.4.17 |
| ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ | Recharts | 2.15.4 |
| ìƒíƒœ ê´€ë¦¬ | React Query (TanStack Query) | 5.83.0 |
| ë¼ìš°íŒ… | React Router DOM | 6.30.1 |
| í¼ ê´€ë¦¬ | React Hook Form + Zod | 7.61.1 + 3.25.76 |
| ì•Œë¦¼ | Sonner | 1.7.4 |
| ì•„ì´ì½˜ | Lucide React | 0.462.0 |
| í…Œë§ˆ | next-themes | 0.3.0 |

### Backend
| êµ¬ë¶„ | ê¸°ìˆ  | ì„¤ëª… |
|------|------|------|
| BaaS | Supabase | PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ + Auth |
| Edge Functions | Deno Runtime | ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ì‹¤í–‰ |
| ì™¸ë¶€ API | YouTube Data API v3 | ì˜ìƒ ë° ì±„ë„ ë°ì´í„° ìˆ˜ì§‘ |
| ì¸ì¦ | Supabase Auth | JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ |

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ ëª©ë¡

### 1. ì±„ë„ ë¶„ì„ ê¸°ëŠ¥
- âœ… ë‹¤ì–‘í•œ í˜•ì‹ì˜ ì±„ë„ URL ì§€ì› (@handle, /channel/, /c/, /user/)
- âœ… ì±„ë„ ID ìë™ í•´ì„ ë° ê²€ì¦
- âœ… ì „ì²´ ë™ê¸°í™” / ì¦ë¶„ ë™ê¸°í™” ëª¨ë“œ ì§€ì›
- âœ… ì‹¤ì‹œê°„ ë™ê¸°í™” ì§„í–‰ë¥  í‘œì‹œ
- âœ… ìµœëŒ€ 100,000ê°œ ì˜ìƒ ë¶„ì„ ì§€ì›

### 2. ë°ì´í„° ìˆ˜ì§‘ ë° ê´€ë¦¬
- âœ… YouTube Data API v3ë¥¼ í†µí•œ ë°ì´í„° ìˆ˜ì§‘
- âœ… ì±„ë„ í†µê³„ (êµ¬ë…ì, ì´ ì¡°íšŒìˆ˜, ì˜ìƒ ìˆ˜)
- âœ… ì˜ìƒ ìƒì„¸ ì •ë³´ (ì œëª©, ì¡°íšŒìˆ˜, ì¢‹ì•„ìš”, ëŒ“ê¸€, ê¸¸ì´)
- âœ… ì¼ë³„ ìŠ¤ëƒ…ìƒ· ì¶”ì  (ì±„ë„ ë° ì˜ìƒ)
- âœ… ë°ì´í„° ì¤‘ë³µ ë°©ì§€ (Upsert ë¡œì§)

### 3. ëŒ€ì‹œë³´ë“œ ë° ì§€í‘œ
- âœ… **Quantity (ì–‘ì  ì§€í‘œ)**
  - ì´ êµ¬ë…ì ìˆ˜
  - ì´ ì˜ìƒ ìˆ˜
  - ì´ ì¡°íšŒìˆ˜
  - ìµœê·¼ ì—…ë¡œë“œ ë‚ ì§œ
- âœ… **Quality (ì§ˆì  ì§€í‘œ)**
  - ì˜ìƒ ìœ í˜• ë¶„ë¥˜ (ì¼ë°˜/ì‡¼ì¸ )
  - ì˜ìƒ ê¸¸ì´ í†µê³„ (ìµœëŒ€/ìµœì†Œ/í‰ê· )
  - ì¡°íšŒìˆ˜ í†µê³„ (ìµœëŒ€/ìµœì†Œ/í‰ê· )
  - ì¢‹ì•„ìš” í‰ê· 
  - ëŒ“ê¸€ í†µê³„ (ì´ ëŒ“ê¸€, ì˜ìƒë‹¹ í‰ê· /ìµœëŒ€/ìµœì†Œ)
- âœ… **Upload Frequency (ì—…ë¡œë“œ ë¹ˆë„)**
  - 12ì£¼/12ê°œì›” ì—…ë¡œë“œ ìˆ˜
  - ì¥í¸/ë‹¨í¸ ì½˜í…ì¸  ë¶„ë¦¬ í†µê³„
  - ì£¼ê°„/ì›”ê°„/ë¶„ê¸°/ì—°ê°„ í‰ê·  ë¹ˆë„
- âœ… **Subscription Rates (êµ¬ë…ì ë³€í™”ìœ¨)**
  - 1ì¼/7ì¼/30ì¼/1ë…„ êµ¬ë…ì ì¦ê°

### 4. ë°ì´í„° ì‹œê°í™”
- âœ… ì¡°íšŒìˆ˜ ì¶”ì´ ê·¸ë˜í”„ (7/14/30ì¼ ì„ íƒ ê°€ëŠ¥)
- âœ… ì£¼ì œë³„ ë¶„í¬ íŒŒì´ ì°¨íŠ¸
- âœ… ì˜ìƒ ëª©ë¡ í…Œì´ë¸” (í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬)
- âœ… ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© UI

### 5. YouTube Shorts ë¶„ë¥˜
- âœ… ì˜ìƒ ê¸¸ì´ ê¸°ë°˜ ë¶„ë¥˜ (60ì´ˆ ì´í•˜)
- âœ… URL íŒ¨í„´ ê°ì§€ (`youtube.com/shorts/`)
- âœ… ë‚ ì§œ ê¸°ë°˜ ì„ê³„ê°’ ì¡°ì • (2024-10-15 ì´í›„)
- âœ… ì¥í¸/ë‹¨í¸ ì½˜í…ì¸  ë³„ë„ í†µê³„

### 6. ì‚¬ìš©ì ì¸ì¦ ë° ì„¤ì •
- âœ… Supabase ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì¸ì¦
- âœ… OAuth ì½œë°± ì²˜ë¦¬
- âœ… ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- âœ… ì‚¬ìš©ìë³„ ì„¤ì • ì €ì¥ (ì–¸ì–´, í…Œë§ˆ, ì‹œê°„ëŒ€ ë“±)
- âœ… ê³„ì • ì‚­ì œ ê¸°ëŠ¥

### 7. í…Œë§ˆ ë° ë‹¤êµ­ì–´
- âœ… ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ì§€ì›
- âœ… ì‹œìŠ¤í…œ í…Œë§ˆ ìë™ ê°ì§€
- âœ… í•œêµ­ì–´/ì˜ì–´ ì§€ì›
- âœ… í…Œë§ˆ ì„¤ì • ì˜êµ¬ ì €ì¥

### 8. ì„±ëŠ¥ ìµœì í™”
- âœ… React Query ìºì‹±
- âœ… í˜ì´ì§€ë„¤ì´ì…˜ (ì˜ìƒ í…Œì´ë¸” 10ê°œ/í˜ì´ì§€)
- âœ… API ë°°ì¹˜ ìš”ì²­ (50ê°œì”©)
- âœ… ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© ìƒíƒœ
- âœ… ì „ì—­ ë™ê¸°í™” ìƒíƒœ ê´€ë¦¬

---

## ğŸ“ ìƒì„¸ ê¸°ëŠ¥ ì„¤ëª…

### 1. ì±„ë„ ë¶„ì„ í”„ë¡œì„¸ìŠ¤

#### 1.1 ì±„ë„ URL ì…ë ¥ (ChannelInput.tsx)
ì‚¬ìš©ìê°€ ë‹¤ìŒ í˜•ì‹ ì¤‘ í•˜ë‚˜ë¡œ ì±„ë„ URL ì…ë ¥:
- `@channelhandle` (í•¸ë“¤)
- `https://www.youtube.com/channel/UC...` (ì±„ë„ ID)
- `https://www.youtube.com/c/customname` (ì»¤ìŠ¤í…€ URL)
- `https://www.youtube.com/user/username` (ë ˆê±°ì‹œ ì‚¬ìš©ìëª…)
- ë¹„ë””ì˜¤ URLì—ì„œ ì±„ë„ ì¶”ì¶œ

#### 1.2 Quick Check (ë¹ ë¥¸ ê²€ì¦)
```typescript
// src/lib/edge.ts - syncQuickCheck()
```
- ì±„ë„ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- ì±„ë„ ID í•´ì„
- ì´ ì˜ìƒ ìˆ˜ í™•ì¸
- DBì— ê¸°ì¡´ ë°ì´í„° ìˆëŠ”ì§€ ì²´í¬

#### 1.3 ë™ê¸°í™” ëª¨ë“œ ê²°ì •
```typescript
// src/pages/Index.tsx - handleAnalyze()
```
- **ìµœì´ˆ ë¶„ì„**: ì „ì²´ ë™ê¸°í™” (fullSync = true)
- **ì¬ë¶„ì„**: ì‚¬ìš©ì ì„ íƒ
  - ì¦ë¶„ ë™ê¸°í™”: ìƒˆ ì˜ìƒë§Œ ì¶”ê°€
  - ì „ì²´ ë™ê¸°í™”: ëª¨ë“  ì˜ìƒ ì¬ë¶„ì„

#### 1.4 ë°ì´í„° ë™ê¸°í™” (Edge Function)
```typescript
// supabase/functions/sync-new-videos/index.ts
```

**ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤:**
1. ì±„ë„ ID í•´ì„ (`resolveChannelId`)
2. ì—…ë¡œë“œ ì¬ìƒëª©ë¡ ID ê°€ì ¸ì˜¤ê¸°
3. ì˜ìƒ ëª©ë¡ í˜ì´ì§€ë„¤ì´ì…˜ (50ê°œì”©)
4. ì˜ìƒ í†µê³„ ë°°ì¹˜ ìˆ˜ì§‘ (50ê°œì”©)
5. ë°ì´í„°ë² ì´ìŠ¤ Upsert (`upsert_videos` RPC)
6. ì—…ë¡œë“œ ë¹ˆë„ ê³„ì‚°
7. êµ¬ë…ì ë³€í™”ìœ¨ ê³„ì‚°
8. ëŒ“ê¸€ í†µê³„ ê³„ì‚°
9. ìŠ¤ëƒ…ìƒ· ì €ì¥

**ë°˜í™˜ ë°ì´í„°:**
```typescript
{
  ok: boolean;
  mode: "full" | "incremental";
  channelId: string;
  title: string;
  fetched: number;
  upserted: number;
  channelStats: {
    subscriberCount: number;
    videoCount: number;
    viewCount: number;
  };
  uploadFrequency: UploadFrequency;
  subscriptionRates: SubscriptionRates;
  commentStats: CommentStats;
}
```

#### 1.5 ì‹¤ì‹œê°„ ì§„í–‰ë¥  í‘œì‹œ
```typescript
// src/hooks/useSync.ts
```
- 2ì´ˆë§ˆë‹¤ DB ì˜ìƒ ìˆ˜ í´ë§
- ì§„í–‰ë¥  í¼ì„¼íŠ¸ ê³„ì‚°
- GlobalBusyOverlayì— í‘œì‹œ
- ìŠ¤í¬ë¡¤ ì ê¸ˆ (useBodyLock)

### 2. ëŒ€ì‹œë³´ë“œ êµ¬ì„±

#### 2.1 Summary ì„¹ì…˜ (ChannelSummary.tsx)
- ì±„ë„ëª…
- ì´ ì˜ìƒ ìˆ˜
- ì—…ë¡œë“œ ë¹ˆë„ ìš”ì•½
  - ì£¼ê°„ í‰ê· 
  - ì›”ê°„ í‰ê· 
  - ìµœê·¼ 12ì£¼/12ê°œì›” ì—…ë¡œë“œ ìˆ˜

#### 2.2 Quantity ì„¹ì…˜ (4ê°œ ì¹´ë“œ)
```typescript
// src/pages/Index.tsx - Quantity Section
```
| ì§€í‘œ | ì•„ì´ì½˜ | ì„¤ëª… |
|------|--------|------|
| ì´ êµ¬ë…ì ìˆ˜ | Users | ì±„ë„ êµ¬ë…ì ìˆ˜ (ìˆ¨ê¹€ ì—¬ë¶€ í‘œì‹œ) |
| ì´ ì˜ìƒ ìˆ˜ | Video | ë¶„ì„ëœ ì˜ìƒ ê°œìˆ˜ |
| ì´ ì¡°íšŒìˆ˜ | Eye | ì „ì²´ ì˜ìƒ ì¡°íšŒìˆ˜ í•©ê³„ |
| ìµœê·¼ ì—…ë¡œë“œ | Calendar | ë§ˆì§€ë§‰ ì˜ìƒ ì—…ë¡œë“œ ë‚ ì§œ |

#### 2.3 Quality ì„¹ì…˜ (5ê°œ í–‰)
```typescript
// src/components/QuantityQuality.tsx
```

**Row 1 - Video Type:**
- ì¼ë°˜ ì˜ìƒ ìˆ˜ (60ì´ˆ ì´ˆê³¼)
- ì‡¼ì¸  ì˜ìƒ ìˆ˜ (60ì´ˆ ì´í•˜)

**Row 2 - Duration:**
- ìµœëŒ€ ê¸¸ì´
- ìµœì†Œ ê¸¸ì´
- í‰ê·  ê¸¸ì´

**Row 3 - Hits & Likes:**
- ìµœëŒ€ ì¡°íšŒìˆ˜
- ìµœì†Œ ì¡°íšŒìˆ˜
- í‰ê·  ì¡°íšŒìˆ˜
- í‰ê·  ì¢‹ì•„ìš”

**Row 4 - Upload Frequency:**
- ìµœê·¼ 12ì£¼ ì—…ë¡œë“œ ìˆ˜
- ìµœê·¼ 12ê°œì›” ì—…ë¡œë“œ ìˆ˜ (ì¥í¸)
- ìµœê·¼ 12ê°œì›” ì—…ë¡œë“œ ìˆ˜ (ì‡¼ì¸ )
- ì£¼ê°„ í‰ê· 
- ì›”ê°„ í‰ê·  (ì¥í¸)
- ì›”ê°„ í‰ê·  (ì‡¼ì¸ )

**Row 5 - Subscription Rates:**
- 1ì¼ êµ¬ë…ì ì¦ê°
- 7ì¼ êµ¬ë…ì ì¦ê°
- 30ì¼ êµ¬ë…ì ì¦ê°
- 1ë…„ êµ¬ë…ì ì¦ê°

**Row 6 - Comment Stats:**
- ì´ ëŒ“ê¸€ ìˆ˜
- ì˜ìƒë‹¹ í‰ê·  ëŒ“ê¸€
- ìµœëŒ€ ëŒ“ê¸€ ìˆ˜
- ìµœì†Œ ëŒ“ê¸€ ìˆ˜

#### 2.4 Views Trend (ì¡°íšŒìˆ˜ ì¶”ì´)
```typescript
// src/components/ViewsTrend.tsx
```
- Recharts ComposedChart ì‚¬ìš©
- 7ì¼/14ì¼/30ì¼ ê¸°ê°„ ì„ íƒ
- ì¼ë³„ ì¡°íšŒìˆ˜ ë§‰ëŒ€ ê·¸ë˜í”„
- ëˆ„ì  ì¡°íšŒìˆ˜ ë¼ì¸ ê·¸ë˜í”„
- ë°˜ì‘í˜• ë””ìì¸

#### 2.5 Topic Chart (ì£¼ì œ ë¶„í¬)
```typescript
// src/components/TopicChart.tsx
```
- Recharts PieChart ì‚¬ìš©
- ì˜ìƒ ì£¼ì œë³„ ê°œìˆ˜ í‘œì‹œ
- ìƒ‰ìƒ êµ¬ë¶„
- íˆ´íŒ í¬í•¨

#### 2.6 Video Table (ì˜ìƒ ëª©ë¡)
```typescript
// src/components/VideoTable.tsx
```
| ì»¬ëŸ¼ | ì„¤ëª… |
|------|------|
| ì£¼ì œ | ì˜ìƒ ì¹´í…Œê³ ë¦¬ |
| ì œëª© | í´ë¦­ ì‹œ YouTube ë§í¬ |
| ë°œí‘œì | ë°œí‘œìëª… (ìˆëŠ” ê²½ìš°) |
| ì¡°íšŒìˆ˜ | í¬ë§·íŒ…ëœ ì¡°íšŒìˆ˜ |
| ì¢‹ì•„ìš” | ì¢‹ì•„ìš” ìˆ˜ |
| ì—…ë¡œë“œì¼ | YYYY-MM-DD |
| ê¸¸ì´ | H:MM:SS ë˜ëŠ” M:SS |

- í˜ì´ì§€ë„¤ì´ì…˜ (10ê°œ/í˜ì´ì§€)
- ì •ë ¬ ê¸°ëŠ¥
- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ

### 3. YouTube Shorts ë¶„ë¥˜ ë¡œì§

```typescript
// src/utils/isShorts.ts
```

**ë¶„ë¥˜ ê¸°ì¤€:**
1. **URL íŒ¨í„´ ìš°ì„  íŒë‹¨**
   - `youtube.com/shorts/` í¬í•¨ â†’ ì‡¼ì¸ 

2. **ë‚ ì§œ ê¸°ë°˜ ì„ê³„ê°’**
   - 2024-10-15 ì´ì „: 60ì´ˆ ì´í•˜ = ì‡¼ì¸ 
   - 2024-10-15 ì´í›„: 180ì´ˆ ì´í•˜ = ì‡¼ì¸ 

3. **Fallback**
   - ê¸¸ì´ ì •ë³´ ì—†ìœ¼ë©´ ì¼ë°˜ ì˜ìƒìœ¼ë¡œ ë¶„ë¥˜

### 4. ë°ì´í„° ë™ê¸°í™” ì„¸ë¶€ ì‚¬í•­

#### 4.1 ì¦ë¶„ ë™ê¸°í™” (Incremental Sync)
- DBì—ì„œ ìµœì‹  ì˜ìƒì˜ `publishedAt` ì¡°íšŒ
- í•´ë‹¹ ë‚ ì§œ ì´í›„ ì˜ìƒë§Œ ê°€ì ¸ì˜¤ê¸°
- ê¸°ì¡´ ë°ì´í„° ìœ ì§€í•˜ë©´ì„œ ìƒˆ ì˜ìƒë§Œ ì¶”ê°€
- API í• ë‹¹ëŸ‰ ì ˆì•½

#### 4.2 ì „ì²´ ë™ê¸°í™” (Full Sync)
- ì±„ë„ì˜ ëª¨ë“  ì˜ìƒ ë°ì´í„° ìˆ˜ì§‘
- ê¸°ì¡´ ë°ì´í„° ë®ì–´ì“°ê¸° (Upsert)
- ìµœëŒ€ 100,000ê°œ ì˜ìƒ ì œí•œ
- ëŠë¦¬ì§€ë§Œ ì •í™•í•œ ë°ì´í„° ë³´ì¥

#### 4.3 ë°°ì¹˜ ì²˜ë¦¬
```typescript
// Edge Function - fetchVideosStats()
```
- ì˜ìƒ ID 50ê°œì”© ë¬¶ì–´ì„œ API ìš”ì²­
- ë³‘ë ¬ ì²˜ë¦¬ë¡œ ì„±ëŠ¥ í–¥ìƒ
- Rate Limiting ë°©ì§€

#### 4.4 ì—ëŸ¬ ì²˜ë¦¬
- API í‚¤ ê²€ì¦
- ì±„ë„ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì¬ì‹œë„
- ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€ (Toast)

---

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”

#### 1. `youtube_channels`
ì±„ë„ ê¸°ë³¸ ì •ë³´ ë° í†µê³„

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| channel_id | TEXT (PK) | YouTube ì±„ë„ ID |
| channel_name | TEXT | ì±„ë„ëª… |
| subscriber_count | INTEGER | êµ¬ë…ì ìˆ˜ |
| total_videos | INTEGER | ì´ ì˜ìƒ ìˆ˜ |
| total_views | BIGINT | ì´ ì¡°íšŒìˆ˜ |
| last_updated | TIMESTAMPTZ | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê° |

#### 2. `youtube_videos`
ì˜ìƒ ìƒì„¸ ì •ë³´

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| video_id | TEXT (PK) | YouTube ì˜ìƒ ID |
| channel_id | TEXT (FK) | ì±„ë„ ID |
| title | TEXT | ì˜ìƒ ì œëª© |
| topic | TEXT | ì˜ìƒ ì£¼ì œ/ì¹´í…Œê³ ë¦¬ |
| presenter | TEXT | ë°œí‘œìëª… |
| views | INTEGER | ì¡°íšŒìˆ˜ |
| likes | INTEGER | ì¢‹ì•„ìš” ìˆ˜ |
| dislikes | INTEGER | ì‹«ì–´ìš” ìˆ˜ (deprecated) |
| comments | INTEGER | ëŒ“ê¸€ ìˆ˜ |
| upload_date | DATE | ì—…ë¡œë“œ ë‚ ì§œ |
| duration | TEXT | ì˜ìƒ ê¸¸ì´ (H:MM:SS) |
| url | TEXT | YouTube URL |

#### 3. `channel_snapshots`
ì±„ë„ í†µê³„ ìŠ¤ëƒ…ìƒ· (ì‹œê³„ì—´)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| channel_id | TEXT (PK) | ì±„ë„ ID |
| snapshot_date | DATE (PK) | ìŠ¤ëƒ…ìƒ· ë‚ ì§œ |
| subscriber_count | INTEGER | êµ¬ë…ì ìˆ˜ |
| view_count | BIGINT | ì´ ì¡°íšŒìˆ˜ |
| video_count | INTEGER | ì˜ìƒ ìˆ˜ |

#### 4. `video_snapshots`
ì˜ìƒ í†µê³„ ìŠ¤ëƒ…ìƒ· (ì‹œê³„ì—´)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| video_id | TEXT (PK) | ì˜ìƒ ID |
| snapshot_date | DATE (PK) | ìŠ¤ëƒ…ìƒ· ë‚ ì§œ |
| view_count | INTEGER | ì¡°íšŒìˆ˜ |
| like_count | INTEGER | ì¢‹ì•„ìš” ìˆ˜ |
| comment_count | INTEGER | ëŒ“ê¸€ ìˆ˜ |

#### 5. `channel_upload_stats`
ì—…ë¡œë“œ ë¹ˆë„ í†µê³„

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| channel_id | TEXT (PK) | ì±„ë„ ID |
| uploads_12w | INTEGER | ìµœê·¼ 12ì£¼ ì—…ë¡œë“œ ìˆ˜ |
| uploads_12m | INTEGER | ìµœê·¼ 12ê°œì›” ì—…ë¡œë“œ ìˆ˜ |
| uploads_12m_long | INTEGER | 12ê°œì›” ì¥í¸ ì˜ìƒ ìˆ˜ |
| uploads_12m_short | INTEGER | 12ê°œì›” ì‡¼ì¸  ìˆ˜ |
| avg_per_week | NUMERIC | ì£¼ê°„ í‰ê·  ì—…ë¡œë“œ |
| avg_per_month | NUMERIC | ì›”ê°„ í‰ê·  ì—…ë¡œë“œ |
| avg_per_month_long | NUMERIC | ì›”ê°„ í‰ê·  ì¥í¸ |
| avg_per_month_short | NUMERIC | ì›”ê°„ í‰ê·  ì‡¼ì¸  |

#### 6. `user_settings`
ì‚¬ìš©ì ì„¤ì •

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | UUID (PK) | ì„¤ì • ID |
| user_id | UUID (FK) | ì‚¬ìš©ì ID |
| general_language | TEXT | ì–¸ì–´ (ko/en) |
| general_theme | TEXT | í…Œë§ˆ (dark/light/system) |
| general_timezone | TEXT | ì‹œê°„ëŒ€ |
| general_date_format | TEXT | ë‚ ì§œ í˜•ì‹ |
| channel_default_url | TEXT | ê¸°ë³¸ ì±„ë„ URL |
| channel_range_days | INTEGER | ë¶„ì„ ê¸°ê°„ (ì¼) |
| channel_include_shorts | BOOLEAN | ì‡¼ì¸  í¬í•¨ ì—¬ë¶€ |
| api_supabase_url | TEXT | Supabase URL |
| api_supabase_anon_key | TEXT | Supabase Anon Key |
| api_youtube_key | TEXT | YouTube API Key |
| connect_ga_id | TEXT | Google Analytics ID |
| connect_slack_webhook | TEXT | Slack Webhook URL |
| connect_discord_webhook | TEXT | Discord Webhook URL |
| usage_videos_scanned | INTEGER | ìŠ¤ìº”í•œ ì˜ìƒ ìˆ˜ |
| usage_api_calls_youtube | INTEGER | YouTube API í˜¸ì¶œ ìˆ˜ |

#### 7. `profiles`
ì‚¬ìš©ì í”„ë¡œí•„

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | UUID (PK) | ì‚¬ìš©ì ID |
| email | TEXT | ì´ë©”ì¼ |
| display_name | TEXT | í‘œì‹œ ì´ë¦„ |
| nickname | TEXT | ë‹‰ë„¤ì„ |
| tier | TEXT | ë©¤ë²„ì‹­ ë“±ê¸‰ |

**ë©¤ë²„ì‹­ ë“±ê¸‰:**
- `free`: ë¬´ë£Œ
- `plus`: í”ŒëŸ¬ìŠ¤
- `pro`: í”„ë¡œ
- `Earlybird`: ì–¼ë¦¬ë²„ë“œ
- `admin`: ê´€ë¦¬ì

### ë°ì´í„°ë² ì´ìŠ¤ ë·°

#### 1. `v_subscription_deltas`
êµ¬ë…ì ë³€í™”ëŸ‰ ê³„ì‚°

```sql
-- 1ì¼, 7ì¼, 30ì¼, 365ì¼ êµ¬ë…ì ì¦ê°
SELECT
  channel_id,
  delta_1d,
  delta_7d,
  delta_30d,
  delta_365d
FROM v_subscription_deltas
WHERE channel_id = 'UC...';
```

#### 2. `v_channel_comment_stats`
ì±„ë„ë³„ ëŒ“ê¸€ í†µê³„

```sql
-- ì´ ëŒ“ê¸€, í‰ê· , ìµœëŒ€, ìµœì†Œ
SELECT
  channel_id,
  total_comments,
  avg_comments,
  max_comments,
  min_comments
FROM v_channel_comment_stats
WHERE channel_id = 'UC...';
```

#### 3. `v_channel_daily_delta`
ì¼ë³„ ì±„ë„ ì§€í‘œ ë³€í™”

```sql
SELECT
  channel_id,
  snapshot_date,
  subscriber_delta,
  view_delta,
  video_delta
FROM v_channel_daily_delta
WHERE channel_id = 'UC...'
ORDER BY snapshot_date DESC;
```

### RPC í•¨ìˆ˜

#### 1. `upsert_videos(p_rows jsonb)`
ì˜ìƒ ë°ì´í„° ì¼ê´„ ì‚½ì…/ì—…ë°ì´íŠ¸

```sql
SELECT upsert_videos('[
  {
    "video_id": "abc123",
    "channel_id": "UC...",
    "title": "ì œëª©",
    "views": 1000,
    ...
  }
]'::jsonb);
```

#### 2. `snapshot_video(...)`
ì˜ìƒ ìŠ¤ëƒ…ìƒ· ê¸°ë¡

```sql
SELECT snapshot_video(
  'video_id',
  1000,  -- views
  50,    -- likes
  10     -- comments
);
```

#### 3. `upsert_channel_stats(...)`
ì±„ë„ í†µê³„ ì—…ë°ì´íŠ¸

```sql
SELECT upsert_channel_stats(
  'UC...',
  'ì±„ë„ëª…',
  1000000,  -- subscribers
  50,       -- videos
  10000000  -- views
);
```

#### 4. `parse_duration_seconds(t text)`
ê¸¸ì´ ë¬¸ìì—´ì„ ì´ˆ ë‹¨ìœ„ë¡œ ë³€í™˜

```sql
SELECT parse_duration_seconds('1:23:45');  -- 5025
SELECT parse_duration_seconds('12:30');    -- 750
```

---

## ğŸŒ API ì—”ë“œí¬ì¸íŠ¸

### Supabase Edge Functions

#### 1. `sync-new-videos`
ì±„ë„ ì˜ìƒ ë™ê¸°í™”

**Endpoint:**
```
POST https://{PROJECT_REF}.supabase.co/functions/v1/sync-new-videos
```

**Headers:**
```
Authorization: Bearer {ANON_KEY}
Content-Type: application/json
```

**Request Body:**
```typescript
{
  channelKey: string;      // YouTube URL ë˜ëŠ” í•¸ë“¤
  channelId?: string;      // ì§ì ‘ ì±„ë„ ID (ì„ íƒ)
  fullSync?: boolean;      // true = ì „ì²´, false = ì¦ë¶„
  quickCheck?: boolean;    // true = ë¹ ë¥¸ ê²€ì¦ë§Œ
}
```

**Response (Full Sync):**
```typescript
{
  ok: true,
  mode: "full",
  channelId: "UC...",
  title: "ì±„ë„ëª…",
  fetched: 150,
  upserted: 150,
  channelStats: {
    subscriberCount: 1000000,
    videoCount: 150,
    viewCount: 50000000
  },
  uploadFrequency: {
    uploads_12w: 12,
    uploads_12m: 48,
    uploads_12m_long: 40,
    uploads_12m_short: 8,
    avg_per_week: 1.0,
    avg_per_month: 4.0,
    avg_per_month_long: 3.3,
    avg_per_month_short: 0.7
  },
  subscriptionRates: {
    delta_1d: 100,
    delta_7d: 500,
    delta_30d: 2000,
    delta_365d: 50000
  },
  commentStats: {
    total_comments: 5000,
    avg_comments: 33.3,
    max_comments: 500,
    min_comments: 0
  }
}
```

**Response (Quick Check):**
```typescript
{
  ok: true,
  mode: "quickCheck",
  channelId: "UC...",
  title: "ì±„ë„ëª…",
  totalVideos: 150
}
```

**Error Response:**
```typescript
{
  error: "ì±„ë„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
  details: "..."
}
```

#### 2. `account-delete`
ì‚¬ìš©ì ê³„ì • ì‚­ì œ

**Endpoint:**
```
POST https://{PROJECT_REF}.supabase.co/functions/v1/account-delete
```

**Headers:**
```
Authorization: Bearer {JWT_TOKEN}
Content-Type: application/json
```

**Response:**
```typescript
{
  ok: true,
  message: "ê³„ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

### YouTube Data API v3 ì‚¬ìš©

Edge Functionì—ì„œ ë‹¤ìŒ YouTube API ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©:

1. **channels** - ì±„ë„ ì •ë³´
   ```
   GET https://www.googleapis.com/youtube/v3/channels
   ```

2. **playlistItems** - ì—…ë¡œë“œ ì˜ìƒ ëª©ë¡
   ```
   GET https://www.googleapis.com/youtube/v3/playlistItems
   ```

3. **videos** - ì˜ìƒ í†µê³„
   ```
   GET https://www.googleapis.com/youtube/v3/videos
   ```

4. **search** - ì±„ë„ ê²€ìƒ‰ (fallback)
   ```
   GET https://www.googleapis.com/youtube/v3/search
   ```

---

## âš™ï¸ ì‚¬ìš©ì ì„¤ì •

### Settings íŒ¨ë„ êµ¬ì¡°

```typescript
// src/pages/Settings.tsx
```

6ê°œ íƒ­ìœ¼ë¡œ êµ¬ì„±:

#### 1. General (ì¼ë°˜ ì„¤ì •)
```typescript
// src/components/settings/GeneralForm.tsx
```

| ì„¤ì • | ì˜µì…˜ | ê¸°ë³¸ê°’ |
|------|------|--------|
| ì–¸ì–´ | í•œêµ­ì–´, English | í•œêµ­ì–´ |
| í…Œë§ˆ | Dark, Light, System | Dark |
| ì‹œê°„ëŒ€ | ì „ ì„¸ê³„ ì‹œê°„ëŒ€ | Asia/Seoul |
| ë‚ ì§œ í˜•ì‹ | YYYY-MM-DD, MM/DD/YYYY ë“± | YYYY-MM-DD |

#### 2. Channel (ì±„ë„ ì„¤ì •)
```typescript
// src/components/settings/ChannelForm.tsx
```

| ì„¤ì • | íƒ€ì… | ê¸°ë³¸ê°’ |
|------|------|--------|
| ê¸°ë³¸ ì±„ë„ URL | TEXT | - |
| ë¶„ì„ ê¸°ê°„ (ì¼) | INTEGER | 90 |
| ì‡¼ì¸  í¬í•¨ | BOOLEAN | true |

#### 3. API (API ì„¤ì •)
```typescript
// src/components/settings/ApiForm.tsx
```

| ì„¤ì • | ì„¤ëª… |
|------|------|
| YouTube API Key | YouTube Data API v3 í‚¤ |
| Supabase URL | Supabase í”„ë¡œì íŠ¸ URL |
| Supabase Anon Key | Supabase ìµëª… í‚¤ |

**ë³´ì•ˆ:**
- RLS ì •ì±…ìœ¼ë¡œ ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼
- API í‚¤ëŠ” ì•”í˜¸í™”í•˜ì§€ ì•ŠìŒ (ì£¼ì˜ í•„ìš”)

#### 4. Account (ê³„ì • ì •ë³´)
```typescript
// src/components/settings/AccountPanel.tsx
```

- ì´ë©”ì¼ í‘œì‹œ
- ì‚¬ìš©ìëª… í‘œì‹œ
- ë©¤ë²„ì‹­ ë“±ê¸‰ í‘œì‹œ
- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼
- ê³„ì • ì‚­ì œ ë²„íŠ¼ (í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸)

#### 5. Usage (ì‚¬ìš©ëŸ‰ í†µê³„)
```typescript
// src/components/settings/UsagePanel.tsx
```

| ì§€í‘œ | ì„¤ëª… |
|------|------|
| ìŠ¤ìº”í•œ ì˜ìƒ ìˆ˜ | ì´ ë¶„ì„í•œ ì˜ìƒ ê°œìˆ˜ |
| YouTube API í˜¸ì¶œ ìˆ˜ | API ì‚¬ìš©ëŸ‰ |

#### 6. Connect (ì—°ë™ ì„¤ì •)
```typescript
// src/components/settings/ConnectForm.tsx
```

| ì—°ë™ ì„œë¹„ìŠ¤ | ì„¤ì • í•­ëª© |
|------------|-----------|
| Google Analytics | GA ID |
| Slack | Webhook URL |
| Discord | Webhook URL |

**ê¸°ëŠ¥ (ì˜ˆì •):**
- ë¶„ì„ ì™„ë£Œ ì‹œ Slack/Discord ì•Œë¦¼
- GAë¡œ ì‚¬ìš©ëŸ‰ ì¶”ì 

---

## ğŸ“Š ì‹œê°í™” ê¸°ëŠ¥

### 1. Views Trend Chart

**ì»´í¬ë„ŒíŠ¸:** `src/components/ViewsTrend.tsx`

**ê¸°ëŠ¥:**
- ì¼ë³„ ì¡°íšŒìˆ˜ ë§‰ëŒ€ ê·¸ë˜í”„ (Bar)
- ëˆ„ì  ì¡°íšŒìˆ˜ ë¼ì¸ ê·¸ë˜í”„ (Line)
- ê¸°ê°„ ì„ íƒ: 7ì¼ / 14ì¼ / 30ì¼
- ë°˜ì‘í˜• í¬ê¸°
- ì»¤ìŠ¤í…€ íˆ´íŒ

**ë°ì´í„° ì²˜ë¦¬:**
```typescript
// 1. ì˜ìƒì„ ë‚ ì§œë³„ë¡œ ê·¸ë£¹í™”
const videosByDate = videos.reduce((acc, v) => {
  const date = v.upload_date;
  if (!acc[date]) acc[date] = [];
  acc[date].push(v);
  return acc;
}, {});

// 2. ë‚ ì§œë³„ ì¡°íšŒìˆ˜ í•©ê³„
const dailyViews = Object.keys(videosByDate).map(date => ({
  date,
  views: videosByDate[date].reduce((sum, v) => sum + v.views, 0)
}));

// 3. ëˆ„ì  ì¡°íšŒìˆ˜ ê³„ì‚°
let cumulative = 0;
const chartData = dailyViews.map(d => {
  cumulative += d.views;
  return { ...d, cumulative };
});
```

**ì°¨íŠ¸ ì„¤ì •:**
```typescript
<ComposedChart data={chartData}>
  <CartesianGrid strokeDasharray="3 3" />
  <XAxis dataKey="date" />
  <YAxis />
  <Tooltip />
  <Legend />
  <Bar dataKey="views" fill="#8884d8" name="ì¼ë³„ ì¡°íšŒìˆ˜" />
  <Line type="monotone" dataKey="cumulative" stroke="#82ca9d" name="ëˆ„ì  ì¡°íšŒìˆ˜" />
</ComposedChart>
```

### 2. Topic Distribution Chart

**ì»´í¬ë„ŒíŠ¸:** `src/components/TopicChart.tsx`

**ê¸°ëŠ¥:**
- ì£¼ì œë³„ ì˜ìƒ ê°œìˆ˜ íŒŒì´ ì°¨íŠ¸
- ì»¬ëŸ¬í’€í•œ ìƒ‰ìƒ êµ¬ë¶„
- ë¹„ìœ¨ ë° ê°œìˆ˜ í‘œì‹œ
- ë ˆì´ë¸” ìë™ ë°°ì¹˜

**ë°ì´í„° ì²˜ë¦¬:**
```typescript
// ì£¼ì œë³„ ì˜ìƒ ê°œìˆ˜ ì§‘ê³„
const topicCounts = videos.reduce((acc, v) => {
  const topic = v.topic || 'ê¸°íƒ€';
  acc[topic] = (acc[topic] || 0) + 1;
  return acc;
}, {});

// íŒŒì´ ì°¨íŠ¸ ë°ì´í„° ë³€í™˜
const chartData = Object.keys(topicCounts).map(topic => ({
  name: topic,
  value: topicCounts[topic]
}));
```

**ìƒ‰ìƒ íŒ”ë ˆíŠ¸:**
```typescript
const COLORS = [
  '#0088FE', '#00C49F', '#FFBB28', '#FF8042',
  '#8884D8', '#82CA9D', '#FFC658', '#FF6B9D'
];
```

### 3. Video Table

**ì»´í¬ë„ŒíŠ¸:** `src/components/VideoTable.tsx`

**ê¸°ëŠ¥:**
- ì •ë ¬ ê°€ëŠ¥í•œ ì»¬ëŸ¼
- í˜ì´ì§€ë„¤ì´ì…˜ (10ê°œ/í˜ì´ì§€)
- ì œëª© í´ë¦­ â†’ YouTube ë§í¬
- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
- ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”©

**ì»¬ëŸ¼ ì •ì˜:**
```typescript
const columns = [
  { key: 'topic', label: 'ì£¼ì œ', sortable: true },
  { key: 'title', label: 'ì œëª©', sortable: true },
  { key: 'presenter', label: 'ë°œí‘œì', sortable: false },
  { key: 'views', label: 'ì¡°íšŒìˆ˜', sortable: true },
  { key: 'likes', label: 'ì¢‹ì•„ìš”', sortable: true },
  { key: 'upload_date', label: 'ì—…ë¡œë“œì¼', sortable: true },
  { key: 'duration', label: 'ê¸¸ì´', sortable: true }
];
```

**í˜ì´ì§€ë„¤ì´ì…˜:**
```typescript
const itemsPerPage = 10;
const totalPages = Math.ceil(videos.length / itemsPerPage);
const startIndex = (currentPage - 1) * itemsPerPage;
const endIndex = startIndex + itemsPerPage;
const currentVideos = videos.slice(startIndex, endIndex);
```

### 4. Metrics Cards

**ì»´í¬ë„ŒíŠ¸:** `src/components/MetricsCard.tsx`

**êµ¬ì¡°:**
```typescript
interface MetricsCardProps {
  title: string;
  value: string | ReactNode;
  icon: LucideIcon;
  description?: string;
  infoTooltip?: string;
}
```

**ìŠ¤íƒ€ì¼:**
- ê·¸ë¼ë°ì´ì…˜ ë°°ê²½
- ì•„ì´ì½˜ í‘œì‹œ
- íˆ´íŒ ì§€ì›
- ë°˜ì‘í˜• ê·¸ë¦¬ë“œ

**ì‚¬ìš© ì˜ˆ:**
```typescript
<MetricsCard
  title="ì´ êµ¬ë…ì ìˆ˜"
  value={formatMetric(1000000)}
  icon={Users}
  description="ì±„ë„ êµ¬ë…ì"
  infoTooltip="YouTube API íŠ¹ì„±ìƒ ì •í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤"
/>
```

### 5. Loading States

#### 5.1 Skeleton Card
```typescript
// src/components/SkeletonCard.tsx
```
- ë¡œë”© ì¤‘ í”Œë ˆì´ìŠ¤í™€ë”
- ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
- ì½˜í…ì¸  í¬ê¸°ì™€ ë™ì¼í•œ ë ˆì´ì•„ì›ƒ

#### 5.2 Global Busy Overlay
```typescript
// src/components/GlobalBusyOverlay.tsx
```
- ì „ì²´ í™”ë©´ ì˜¤ë²„ë ˆì´
- ì§„í–‰ë¥  í‘œì‹œ
- í˜„ì¬/ì „ì²´ ê°œìˆ˜ í‘œì‹œ
- ë°°ê²½ ë¸”ëŸ¬ íš¨ê³¼
- ìŠ¤í¬ë¡¤ ì ê¸ˆ

---

## ğŸ” ì¸ì¦ ë° ë³´ì•ˆ

### ì¸ì¦ í”Œë¡œìš°

#### 1. íšŒì›ê°€ì…
```typescript
// src/components/AuthCard.tsx
```
1. ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
2. Supabase Auth íšŒì›ê°€ì… API í˜¸ì¶œ
3. ì´ë©”ì¼ ì¸ì¦ ë©”ì¼ ë°œì†¡ (ì„ íƒ)
4. ìë™ ë¡œê·¸ì¸ ë˜ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸

#### 2. ë¡œê·¸ì¸
```typescript
// src/hooks/useAuth.ts
```
1. ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
2. Supabase Auth ë¡œê·¸ì¸ API í˜¸ì¶œ
3. JWT í† í° ë°œê¸‰
4. ì„¸ì…˜ ì €ì¥ (localStorage)
5. ì‚¬ìš©ì ì •ë³´ ë¡œë“œ

#### 3. ì„¸ì…˜ ê´€ë¦¬
```typescript
// src/lib/supabaseClient.ts
```
- Supabase í´ë¼ì´ì–¸íŠ¸ ì‹±ê¸€í†¤
- ìë™ í† í° ê°±ì‹ 
- ì„¸ì…˜ ë§Œë£Œ ì‹œ ë¡œê·¸ì•„ì›ƒ

#### 4. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
```typescript
// src/pages/ResetPassword.tsx
```
1. ì´ë©”ì¼ ì…ë ¥
2. ì¬ì„¤ì • ë§í¬ ë°œì†¡
3. ë§í¬ í´ë¦­ ì‹œ ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
4. ìë™ ë¡œê·¸ì¸

### Row-Level Security (RLS)

#### user_settings í…Œì´ë¸”
```sql
-- ë³¸ì¸ ë°ì´í„°ë§Œ ì¡°íšŒ
CREATE POLICY "Users can view own settings"
ON public.user_settings
FOR SELECT
USING (auth.uid() = user_id);

-- ë³¸ì¸ ë°ì´í„°ë§Œ ìˆ˜ì •
CREATE POLICY "Users can update own settings"
ON public.user_settings
FOR UPDATE
USING (auth.uid() = user_id);
```

#### profiles í…Œì´ë¸”
```sql
-- ë³¸ì¸ í”„ë¡œí•„ë§Œ ì¡°íšŒ
CREATE POLICY "Users can view own profile"
ON public.profiles
FOR SELECT
USING (auth.uid() = id);
```

### API í‚¤ ê´€ë¦¬

**ì£¼ì˜ì‚¬í•­:**
- YouTube API í‚¤ëŠ” user_settingsì— í‰ë¬¸ ì €ì¥
- Supabase Anon KeyëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œ ê°€ëŠ¥ (RLSë¡œ ë³´í˜¸)
- Service Role KeyëŠ” Edge Function í™˜ê²½ë³€ìˆ˜ë¡œë§Œ ì‚¬ìš©

**ê¶Œì¥ ì‚¬í•­:**
- API í‚¤ ì •ê¸°ì ìœ¼ë¡œ êµì²´
- í• ë‹¹ëŸ‰ ëª¨ë‹ˆí„°ë§
- ì‚¬ìš©ëŸ‰ ì œí•œ ì„¤ì •

---

## ğŸš€ ì„±ëŠ¥ ìµœì í™”

### 1. React Query ìºì‹±

```typescript
// src/hooks/useChannelBundle.ts
```

**ìºì‹± ì „ëµ:**
- `staleTime`: 5ë¶„
- `cacheTime`: 30ë¶„
- ìë™ ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹ 

### 2. í˜ì´ì§€ë„¤ì´ì…˜

**ì˜ìƒ í…Œì´ë¸”:**
- 10ê°œ/í˜ì´ì§€
- í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í˜ì´ì§€ë„¤ì´ì…˜
- ê°€ìƒ ìŠ¤í¬ë¡¤ ë¯¸ì ìš© (ì¶”í›„ ê°œì„  ê°€ëŠ¥)

**API ìš”ì²­:**
- YouTube API: 50ê°œ/ìš”ì²­
- Supabase: 1000ê°œ/ìš”ì²­ (ê¸°ë³¸)

### 3. ë°°ì¹˜ ì²˜ë¦¬

```typescript
// Edge Function - fetchVideosStats()
```

**YouTube API ë°°ì¹˜:**
```typescript
// ì˜ìƒ IDë¥¼ 50ê°œì”© ë¬¶ì–´ì„œ ìš”ì²­
const chunks = [];
for (let i = 0; i < videoIds.length; i += 50) {
  chunks.push(videoIds.slice(i, i + 50));
}

// ë³‘ë ¬ ì²˜ë¦¬
for (const chunk of chunks) {
  const url = `${YT_BASE}/videos?id=${chunk.join(',')}`;
  // ...
}
```

### 4. ìŠ¤ì¼ˆë ˆí†¤ UI

```typescript
// src/components/SkeletonCard.tsx
```

- ë°ì´í„° ë¡œë”© ì¤‘ ì¦‰ì‹œ ë ˆì´ì•„ì›ƒ í‘œì‹œ
- ì‚¬ìš©ì ì²´ê° ì†ë„ í–¥ìƒ
- Layout Shift ë°©ì§€

### 5. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

```typescript
// vite.config.ts
```

- React ì»´í¬ë„ŒíŠ¸ ìë™ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- Dynamic Import ì§€ì›
- ë¼ìš°íŠ¸ ê¸°ë°˜ ì²­í‚¹

---

## ğŸ§ª ê°œë°œ í™˜ê²½ ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜

#### Frontend (.env)
```env
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbG...
```

#### Edge Function (Supabase Secrets)
```
YOUTUBE_API_KEY=AIza...
SUPABASE_SERVICE_ROLE_KEY=eyJhbG...
```

### ë¡œì»¬ ê°œë°œ

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# ë¹Œë“œ ë¯¸ë¦¬ë³´ê¸°
npm run preview
```

### Supabase ë¡œì»¬ ê°œë°œ

```bash
# Supabase CLI ì„¤ì¹˜
npm install -g supabase

# ë¡œì»¬ Supabase ì‹œì‘
supabase start

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
supabase db push

# Edge Function ë°°í¬
supabase functions deploy sync-new-videos
```

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ì‚¬í•­

### ê¸°ëŠ¥ ì¶”ê°€
- [ ] ë‹¤ì¤‘ ì±„ë„ ë¹„êµ ê¸°ëŠ¥
- [ ] ê²½ìŸì‚¬ ë¶„ì„
- [ ] ì˜ìƒ ëŒ“ê¸€ ê°ì • ë¶„ì„
- [ ] AI ê¸°ë°˜ ì œëª©/ì„¬ë„¤ì¼ ì¶”ì²œ
- [ ] ì˜ìƒ ì—…ë¡œë“œ ìŠ¤ì¼€ì¤„ ìµœì í™” ì œì•ˆ

### ì„±ëŠ¥ ê°œì„ 
- [ ] ê°€ìƒ ìŠ¤í¬ë¡¤ (react-window)
- [ ] ì„œë²„ ì‚¬ì´ë“œ í˜ì´ì§€ë„¤ì´ì…˜
- [ ] ì´ë¯¸ì§€ ë ˆì´ì§€ ë¡œë”©
- [ ] PWA ì§€ì›
- [ ] ì˜¤í”„ë¼ì¸ ëª¨ë“œ

### UX ê°œì„ 
- [ ] ë“œë˜ê·¸ ì•¤ ë“œë¡­ íŒŒì¼ ì—…ë¡œë“œ
- [ ] ì»¤ìŠ¤í…€ ëŒ€ì‹œë³´ë“œ ìœ„ì ¯
- [ ] ë°ì´í„° ë‚´ë³´ë‚´ê¸° (CSV, PDF)
- [ ] ëª¨ë°”ì¼ ì•± (React Native)
- [ ] ë‹¤êµ­ì–´ í™•ì¥ (ì¼ë³¸ì–´, ì¤‘êµ­ì–´ ë“±)

### ë³´ì•ˆ ê°•í™”
- [ ] API í‚¤ ì•”í˜¸í™”
- [ ] 2FA ì¸ì¦
- [ ] ê°ì‚¬ ë¡œê·¸
- [ ] Rate Limiting
- [ ] CORS ì •ì±… ê°•í™”

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

### ì™¸ë¶€ API ë¬¸ì„œ
- [YouTube Data API v3](https://developers.google.com/youtube/v3)
- [Supabase Documentation](https://supabase.com/docs)
- [Supabase Edge Functions](https://supabase.com/docs/guides/functions)

### ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ
- [React](https://react.dev/)
- [TypeScript](https://www.typescriptlang.org/)
- [Tailwind CSS](https://tailwindcss.com/)
- [shadcn/ui](https://ui.shadcn.com/)
- [Recharts](https://recharts.org/)
- [React Query](https://tanstack.com/query/latest)

### í”„ë¡œì íŠ¸ ë¬¸ì„œ
- [README.md](./README.md)
- [Supabase Migrations](./supabase/migrations/)
- [Edge Functions](./supabase/functions/)

---

## ğŸ“ ë²„ì „ íˆìŠ¤í† ë¦¬

### v1.0.0 (í˜„ì¬)
- âœ… ê¸°ë³¸ ì±„ë„ ë¶„ì„ ê¸°ëŠ¥
- âœ… ëŒ€ì‹œë³´ë“œ ë° ì‹œê°í™”
- âœ… ì‚¬ìš©ì ì¸ì¦ ë° ì„¤ì •
- âœ… YouTube Shorts ë¶„ë¥˜
- âœ… ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ
- âœ… í•œêµ­ì–´/ì˜ì–´ ì§€ì›

### ê³„íš ì¤‘
- v1.1.0: ë‹¤ì¤‘ ì±„ë„ ë¹„êµ
- v1.2.0: ëŒ“ê¸€ ê°ì • ë¶„ì„
- v2.0.0: AI ì¶”ì²œ ì‹œìŠ¤í…œ

---

**ì‘ì„±ì¼:** 2025-11-03
**ë¬¸ì„œ ë²„ì „:** 1.0
**í”„ë¡œì íŠ¸:** YouTuber Analyzer Pro
