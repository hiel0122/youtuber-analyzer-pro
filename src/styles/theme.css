/* === Theme Tokens (respecting dark/light mode) === */

/* Light mode CSS variables are defined in tokens.css */
/* This file only adds utility classes that use semantic tokens */

/* Utility classes using CSS variables from tokens.css */
.bg-app     { background: hsl(var(--background)); }
.bg-surface { background: hsl(var(--card)); }
.text-ink   { color: hsl(var(--foreground)); }
.text-muted { color: hsl(var(--muted-foreground)); }
.border-app { border-color: hsl(var(--border)); }

.btn-primary {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}
.btn-primary:hover { filter: brightness(0.95); }

.tag-accent  { 
  background: hsl(var(--accent) / 0.18); 
  color: hsl(var(--foreground)); 
}
.tag-warning { 
  background: hsl(var(--chart-3) / 0.18); 
  color: hsl(var(--foreground)); 
}

/* 중요 경고: 테마와 무관하게 항상 빨간 톤 */
.alert-danger, [data-importance="critical"], .text-danger {
  color: hsl(var(--destructive));
  background: hsl(var(--destructive) / 0.1);
  border: 1px solid hsl(var(--destructive) / 0.3);
}

/* 포커스 링, 입력 포커스 */
:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

/* 스크롤바(지원 브라우저 한정) */
*::-webkit-scrollbar-thumb { 
  background: hsl(var(--muted-foreground) / 0.25); 
}

/* 차트/표 기본 글자색 - 테마 반응형 */
.recharts-default-tooltip, 
.recharts-cartesian-axis-tick tspan,
.recharts-legend-item-text {
  fill: hsl(var(--foreground)) !important;
  color: hsl(var(--foreground)) !important;
}

table { 
  color: hsl(var(--foreground)); 
}

th, td { 
  color: hsl(var(--foreground)); 
}

input::placeholder { 
  color: hsl(var(--muted-foreground) / 0.7); 
}

/* 사이드바 */
.sidebar {
  background-color: hsl(var(--card));
  border-color: hsl(var(--border));
  color: hsl(var(--foreground));
}

.sidebar .nav-item {
  color: hsl(var(--muted-foreground));
}

.sidebar .nav-item:hover,
.sidebar .nav-item[aria-current="page"] {
  background-color: hsl(var(--primary) / 0.1);
  color: hsl(var(--foreground));
  font-weight: 500;
}

/* ===== Gradient 클래스 ===== */
.bg-gradient-primary {
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--chart-2)) 100%);
  color: hsl(var(--primary-foreground));
}

.bg-gradient-card {
  background: linear-gradient(135deg, hsl(var(--card)) 0%, hsl(var(--primary) / 0.05) 100%);
}

/* ===== Shadow 클래스 ===== */
.shadow-card {
  box-shadow: 0 1px 3px 0 hsl(var(--foreground) / 0.1), 0 1px 2px -1px hsl(var(--foreground) / 0.1);
}

.shadow-glow {
  box-shadow: 0 0 20px 0 hsl(var(--primary) / 0.2);
  transition: box-shadow 0.3s ease;
}

.shadow-glow:hover {
  box-shadow: 0 0 30px 0 hsl(var(--primary) / 0.35);
}
